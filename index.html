<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†Ø´Ø¦ Ø§Ù„Ø­Ù‚Ø§Ø¦Ø¨ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ© Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #16a085;
            --accent: #d35400;
            --bg: #ecf0f1;
            --table-head: #34495e;
        }

        body { font-family: 'Cairo', sans-serif; background: var(--bg); margin: 0; padding: 10px; font-size: 14px; }
        
        .main-container { display: flex; gap: 15px; height: 95vh; }
        
        /* --- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… --- */
        .control-panel { 
            width: 38%; 
            background: white; 
            padding: 15px; 
            border-radius: 8px; 
            overflow-y: auto; 
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
        }

        h3, h4 { color: var(--primary); margin: 10px 0; border-bottom: 2px solid var(--secondary); padding-bottom: 5px; }
        
        .input-group { margin-bottom: 8px; }
        label { display: block; font-weight: bold; margin-bottom: 3px; font-size: 12px; color: #555; }
        input, textarea, select { width: 100%; padding: 6px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; font-family: 'Cairo'; font-size: 12px;}
        textarea { height: 50px; resize: vertical; }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£ÙƒÙˆØ±Ø¯ÙŠÙˆÙ† Ù„Ù„Ø£ÙŠØ§Ù… */
        details { background: #f8f9fa; margin-bottom: 5px; border-radius: 4px; border: 1px solid #ddd; }
        summary { padding: 10px; cursor: pointer; font-weight: bold; background: #e9ecef; color: var(--primary); list-style: none; }
        summary::after { content: '+'; float: left; font-weight: bold; }
        details[open] summary::after { content: '-'; }
        .day-content { padding: 10px; }
        
        .axis-row { display: grid; grid-template-columns: 2fr 1fr 1fr 0.5fr; gap: 5px; margin-bottom: 5px; border-bottom: 1px dotted #ccc; padding-bottom: 2px; }
        .axis-row input { font-size: 10px; }

        button { width: 100%; padding: 10px; border: none; border-radius: 4px; cursor: pointer; font-family: 'Cairo'; font-weight: bold; margin-top: 5px; }
        .btn-add { background: var(--secondary); color: white; }
        .btn-print { background: var(--primary); color: white; font-size: 16px; position: sticky; bottom: 0; margin-top: 20px; box-shadow: 0 -2px 5px rgba(0,0,0,0.1); }
        .btn-del { background: #c0392b; color: white; width: auto; padding: 2px 8px; font-size: 10px; float: left; }

        /* --- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© --- */
        .preview-area { 
            width: 62%; 
            background: #525659; 
            padding: 20px; 
            overflow-y: auto; 
            display: flex; 
            justify-content: center; 
        }

        #printable-content {
            background: white;
            width: 210mm; 
            min-height: 297mm;
            padding: 10mm;
            box-sizing: border-box;
        }

        /* --- ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© --- */
        .page-break { page-break-before: always; }
        .cover-page { text-align: center; min-height: 270mm; border: 5px double var(--primary); padding: 20px; margin-bottom: 20px;}
        
        .main-title { font-size: 36px; color: var(--primary); margin-top: 40mm; font-weight: 800; }
        .sub-info { font-size: 18px; margin-top: 10px; color: #666; }
        
        .goals-section { text-align: right; margin-top: 30mm; padding: 20px; }
        .goals-box { border: 2px solid var(--secondary); border-radius: 10px; padding: 15px; background: #fdfdfd; }
        .goals-list li { margin-bottom: 8px; font-size: 14px; }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠØ© */
        .schedule-table { width: 100%; border-collapse: collapse; font-size: 11px; margin-bottom: 20px; page-break-inside: avoid; }
        .schedule-table th, .schedule-table td { border: 1px solid #333; padding: 5px; text-align: center; }
        .schedule-table th { background-color: var(--table-head); color: white; }
        .schedule-header { background-color: #ecf0f1; font-weight: bold; text-align: right !important; }
        .break-row { background-color: #ffeaa7; font-weight: bold; }
        .activity-row { background-color: #a8dadc; font-weight: bold; }
        
        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ÙˆØ­Ø¯Ø§Øª */
        .unit-section { border-top: 2px solid var(--primary); padding-top: 20px; margin-top: 20px; }
        .block-title { background: var(--secondary); color: white; display: inline-block; padding: 3px 10px; border-radius: 3px; margin-bottom: 5px; font-size: 14px; }
        .text-body { text-align: justify; line-height: 1.5; font-size: 12px; margin-bottom: 15px; white-space: pre-wrap; }

    </style>
</head>
<body>

<div class="main-container">
    
    <div class="control-panel">
        <h3>1. Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</h3>
        <label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬</label>
        <input type="text" id="inTitle" oninput="updateAll()">
        <div style="display:flex; gap:5px;">
            <div style="flex:2"><label>Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø¨</label><input type="text" id="inTrainer" oninput="updateAll()"></div>
            <div style="flex:1"><label>Ø§Ù„Ø¹Ø§Ù…</label><input type="text" id="inYear" placeholder="2026" oninput="updateAll()"></div>
        </div>
        
        <label>Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</label>
        <textarea id="inMainGoal" oninput="updateAll()"></textarea>

        <label>Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ© (7 ÙƒØ­Ø¯ Ø£Ù‚ØµÙ‰)</label>
        <div id="objectives-inputs">
            </div>

        <h3>2. Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ (5 Ø£ÙŠØ§Ù…)</h3>
        <div id="schedule-inputs">
            </div>

        <h3>3. ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©</h3>
        <div id="units-control"></div>
        <button class="btn-add" onclick="addNewUnit()">+ Ø¥Ø¶Ø§ÙØ© Ù…Ø§Ø¯Ø© Ø¹Ù„Ù…ÙŠØ© Ù„ÙˆØ­Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
        
        <br><br>
        <button class="btn-print" onclick="generatePDF()">ğŸ“¥ ØªØ­Ù…ÙŠÙ„ ÙˆØ·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø­Ù‚ÙŠØ¨Ø©</button>
    </div>

    <div class="preview-area">
        <div id="printable-content">
            
            <div class="cover-page">
                <br><br>
                <img src="https://cdn-icons-png.flaticon.com/512/3426/3426653.png" width="100" style="opacity:0.6">
                <h1 class="main-title" id="outTitle">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ</h1>
                <div class="sub-info">
                    <p>Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø¯Ø±Ø¨: <span id="outTrainer">...</span></p>
                    <p>Ø§Ù„Ø¹Ø§Ù…: <span id="outYear">...</span></p>
                </div>

                <div class="goals-section">
                    <div class="goals-box">
                        <h3 style="margin-top:0; color:var(--secondary)">ğŸ¯ Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ:</h3>
                        <p id="outMainGoal">...</p>
                        <hr style="border:0; border-top:1px dashed #ccc">
                        <h4>Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©:</h4>
                        <ul class="goals-list" id="outObjectives"></ul>
                    </div>
                </div>
            </div>

            <div class="page-break"></div>

            <h2 style="text-align:center; color:var(--primary); border-bottom:3px solid var(--accent); display:inline-block;">ğŸ“… Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ù„Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬</h2>
            <br><br>
            <div id="outSchedule"></div>

            <div class="page-break"></div>
            <h2 style="text-align:center; margin-top:20px;">ğŸ“š Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ Ù„Ù„Ø­Ù‚ÙŠØ¨Ø©</h2>
            <div id="outUnits"></div>

        </div>
    </div>
</div>

<script>
    // --- ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø© ---
    window.onload = function() {
        generateObjectivesInputs();
        generateScheduleInputs();
        addNewUnit(); // ÙˆØ­Ø¯Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© ÙˆØ§Ø­Ø¯Ø©
    };

    // --- 1. Ø§Ù„Ø£Ù‡Ø¯Ø§Ù ---
    function generateObjectivesInputs() {
        let html = '';
        for(let i=1; i<=7; i++) {
            html += `<input type="text" class="obj-in" id="obj${i}" placeholder="Ø§Ù„Ù‡Ø¯Ù ${i}" oninput="updateAll()" style="margin-bottom:2px">`;
        }
        document.getElementById('objectives-inputs').innerHTML = html;
    }

    // --- 2. Ø¨Ù†Ø§Ø¡ Ù…Ø¯Ø®Ù„Ø§Øª Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ (Ù…Ø¹Ù‚Ø¯ Ù‚Ù„ÙŠÙ„Ø§Ù‹) ---
    const days = 5;
    const axesPerSession = 5;

    function generateScheduleInputs() {
        let container = document.getElementById('schedule-inputs');
        
        for(let d=1; d<=days; d++) {
            let details = document.createElement('details');
            let summary = document.createElement('summary');
            summary.innerText = `Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ ${d}`;
            details.appendChild(summary);

            let content = document.createElement('div');
            content.className = 'day-content';

            // Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø±Ø³Ù… ØµÙÙˆÙ Ø§Ù„Ù…Ø­Ø§ÙˆØ±
            const createSessionInputs = (sessionNum) => {
                let html = `<h5 style="margin:5px 0">Ø§Ù„Ø¬Ù„Ø³Ø© ${sessionNum}</h5>`;
                html += `<div style="display:flex; font-size:10px; font-weight:bold; margin-bottom:3px;">
                            <span style="flex:2">Ø§Ù„Ù…Ø­ÙˆØ±</span>
                            <span style="flex:1">Ø§Ù„Ø£Ø³Ù„ÙˆØ¨</span>
                            <span style="flex:1">Ø§Ù„Ø£Ø¯ÙˆØ§Øª</span>
                            <span style="flex:0.5">Ø§Ù„Ø²Ù…Ù†</span>
                         </div>`;
                for(let i=1; i<=axesPerSession; i++) {
                    html += `
                    <div class="axis-row">
                        <input type="text" class="sch-in" id="d${d}_s${sessionNum}_a${i}_topic" oninput="updateSchedule(${d})">
                        <input type="text" class="sch-in" id="d${d}_s${sessionNum}_a${i}_method" oninput="updateSchedule(${d})">
                        <input type="text" class="sch-in" id="d${d}_s${sessionNum}_a${i}_tools" oninput="updateSchedule(${d})">
                        <input type="text" class="sch-in" id="d${d}_s${sessionNum}_a${i}_time" oninput="updateSchedule(${d})">
                    </div>`;
                }
                return html;
            };

            content.innerHTML = createSessionInputs(1) + 
                                `<div style="background:#eee; padding:5px; text-align:center; font-size:11px; margin:5px 0;">â˜• Ø§Ø³ØªØ±Ø§Ø­Ø© 20 Ø¯Ù‚ÙŠÙ‚Ø©</div>` + 
                                createSessionInputs(2) + 
                                `<label>Ù†Ø´Ø§Ø· ØªØ·Ø¨ÙŠÙ‚ÙŠ (30 Ø¯)</label><input type="text" id="d${d}_activity" oninput="updateSchedule(${d})">` +
                                `<label>Ø§Ù„Ø®ØªØ§Ù…</label><input type="text" id="d${d}_closing" value="Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ¥Ø«Ø±Ø§Ø¡" oninput="updateSchedule(${d})">`;
            
            details.appendChild(content);
            container.appendChild(details);
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙØ§Ø±Øº ÙÙŠ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©
            createScheduleTableInPreview(d);
        }
    }

    function createScheduleTableInPreview(dayNum) {
        const div = document.createElement('div');
        div.id = `outTable_d${dayNum}`;
        document.getElementById('outSchedule').appendChild(div);
        updateSchedule(dayNum); // Ø±Ø³Ù… Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙØ§Ø±ØºØ§Ù‹
    }

    // ØªØ­Ø¯ÙŠØ« Ø¬Ø¯ÙˆÙ„ ÙŠÙˆÙ… Ù…Ø­Ø¯Ø¯
    function updateSchedule(d) {
        let html = `
        <table class="schedule-table">
            <thead>
                <tr>
                    <th colspan="4" class="schedule-header">Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ: ${d}</th>
                </tr>
                <tr>
                    <th colspan="4" style="background:#ddd; text-align:right">Ø§Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ (90 Ø¯Ù‚ÙŠÙ‚Ø©)</th>
                </tr>
                <tr>
                    <th width="40%">Ø§Ù„Ù…Ø­ÙˆØ±</th>
                    <th width="25%">Ø§Ù„Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ</th>
                    <th width="25%">Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©</th>
                    <th width="10%">Ø§Ù„Ø²Ù…Ù†</th>
                </tr>
            </thead>
            <tbody>`;
            
        // Ø§Ù„Ø¬Ù„Ø³Ø© 1
        for(let i=1; i<=5; i++) {
            html += getRowHTML(d, 1, i);
        }

        // Ø§Ù„Ø§Ø³ØªØ±Ø§Ø­Ø©
        html += `<tr class="break-row"><td colspan="4">Ø§Ø³ØªØ±Ø§Ø­Ø© (20 Ø¯Ù‚ÙŠÙ‚Ø©)</td></tr>`;

        // Ø§Ù„Ø¬Ù„Ø³Ø© 2
        html += `<tr><th colspan="4" style="background:#ddd; text-align:right">Ø§Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© (90 Ø¯Ù‚ÙŠÙ‚Ø©)</th></tr>`;
        for(let i=1; i<=5; i++) {
            html += getRowHTML(d, 2, i);
        }

        // Ø§Ù„Ù†Ø´Ø§Ø· ÙˆØ§Ù„Ø®ØªØ§Ù…
        let act = document.getElementById(`d${d}_activity`).value || '...';
        let close = document.getElementById(`d${d}_closing`).value || 'Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ¥Ø«Ø±Ø§Ø¡';

        html += `<tr class="activity-row"><td colspan="2">Ù†Ø´Ø§Ø· ØªØ·Ø¨ÙŠÙ‚ÙŠ (30 Ø¯Ù‚ÙŠÙ‚Ø©)</td><td colspan="2">${act}</td></tr>`;
        html += `<tr><td colspan="2" style="font-weight:bold">Ø®ØªØ§Ù… Ø§Ù„ÙŠÙˆÙ…</td><td colspan="2">${close}</td></tr>`;
        
        html += `</tbody></table>`;
        
        document.getElementById(`outTable_d${d}`).innerHTML = html;
    }

    function getRowHTML(d, s, a) {
        let topic = document.getElementById(`d${d}_s${s}_a${a}_topic`).value;
        let method = document.getElementById(`d${d}_s${s}_a${a}_method`).value;
        let tools = document.getElementById(`d${d}_s${s}_a${a}_tools`).value;
        let time = document.getElementById(`d${d}_s${s}_a${a}_time`).value;

        // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø®Ø§Ù†Ø© ÙØ§Ø±ØºØ© Ù†Ø¹Ø±Ø¶ Ù†Ù‚Ø§Ø·Ø§Ù‹
        return `<tr>
            <td>${topic || '................................'}</td>
            <td>${method || '................'}</td>
            <td>${tools || '................'}</td>
            <td>${time || '...'}</td>
        </tr>`;
    }

    // --- 3. Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø§Ù… (Ø§Ù„ØºÙ„Ø§Ù) ---
    function updateAll() {
        document.getElementById('outTitle').innerText = document.getElementById('inTitle').value || 'Ø§Ù„Ø¹Ù†ÙˆØ§Ù†';
        document.getElementById('outTrainer').innerText = document.getElementById('inTrainer').value || '---';
        document.getElementById('outYear').innerText = document.getElementById('inYear').value || '---';
        document.getElementById('outMainGoal').innerText = document.getElementById('inMainGoal').value || '...';

        let objHtml = '';
        for(let i=1; i<=7; i++) {
            let val = document.getElementById(`obj${i}`).value;
            if(val) objHtml += `<li>${val}</li>`;
        }
        document.getElementById('outObjectives').innerHTML = objHtml;
    }

    // --- 4. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆØ­Ø¯Ø§Øª (Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø¹Ù„Ù…ÙŠØ©) ---
    let unitCount = 0;
    function addNewUnit() {
        unitCount++;
        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª
        const div = document.createElement('div');
        div.className = 'unit-form';
        div.innerHTML = `
            <div style="border-top:1px solid #ccc; margin-top:10px; padding-top:10px;">
                <label style="color:var(--secondary)">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙˆØ­Ø¯Ø© Ø±Ù‚Ù… ${unitCount}</label>
                <input type="text" id="u${unitCount}_title" oninput="upUnit(${unitCount})">
                <label>Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø¹Ù„Ù…ÙŠØ©</label><textarea id="u${unitCount}_content" oninput="upUnit(${unitCount})"></textarea>
                <label>Ø§Ù„Ù†Ø´Ø§Ø·</label><textarea id="u${unitCount}_act" oninput="upUnit(${unitCount})"></textarea>
                <label>Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</label><textarea id="u${unitCount}_eval" oninput="upUnit(${unitCount})"></textarea>
                <label>Ø§Ù„Ø¥Ø«Ø±Ø§Ø¡</label><textarea id="u${unitCount}_extra" oninput="upUnit(${unitCount})"></textarea>
            </div>
        `;
        document.getElementById('units-control').appendChild(div);

        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ø±Ø¶
        const view = document.createElement('div');
        view.className = 'unit-section page-break'; // Ù†Ø¨Ø¯Ø£ ØµÙØ­Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù„ÙƒÙ„ ÙˆØ­Ø¯Ø©
        view.id = `view_unit_${unitCount}`;
        view.innerHTML = `
            <h2 id="v${unitCount}_title" style="background:var(--primary); color:white; padding:5px 10px;">Ø§Ù„ÙˆØ­Ø¯Ø© ${unitCount}</h2>
            
            <span class="block-title">Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø¹Ù„Ù…ÙŠØ©</span>
            <div class="text-body" id="v${unitCount}_content"></div>

            <span class="block-title" style="background:var(--accent)">Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠ</span>
            <div class="text-body" id="v${unitCount}_act"></div>

            <span class="block-title" style="background:#8e44ad">Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</span>
            <div class="text-body" id="v${unitCount}_eval"></div>
            
            <span class="block-title" style="background:#27ae60">Ø¥Ø«Ø±Ø§Ø¡</span>
            <div class="text-body" id="v${unitCount}_extra"></div>
        `;
        document.getElementById('outUnits').appendChild(view);
    }

    function upUnit(id) {
        document.getElementById(`v${id}_title`).innerText = document.getElementById(`u${id}_title`).value || `Ø§Ù„ÙˆØ­Ø¯Ø© ${id}`;
        document.getElementById(`v${id}_content`).innerText = document.getElementById(`u${id}_content`).value;
        document.getElementById(`v${id}_act`).innerText = document.getElementById(`u${id}_act`).value;
        document.getElementById(`v${id}_eval`).innerText = document.getElementById(`u${id}_eval`).value;
        document.getElementById(`v${id}_extra`).innerText = document.getElementById(`u${id}_extra`).value;
    }

    // --- Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© ---
    function generatePDF() {
        const element = document.getElementById('printable-content');
        const opt = {
            margin: 10,
            filename: 'Ø§Ù„Ø­Ù‚ÙŠØ¨Ø©_Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' },
            pagebreak: { mode: ['css', 'legacy'] }
        };
        
        html2pdf().from(element).set(opt).toPdf().get('pdf').then(function (pdf) {
            var totalPages = pdf.internal.getNumberOfPages();
            for (i = 1; i <= totalPages; i++) {
                pdf.setPage(i);
                pdf.setFontSize(9);
                pdf.setTextColor(150);
                pdf.text('ØµÙØ­Ø© ' + i + ' Ù…Ù† ' + totalPages, pdf.internal.pageSize.getWidth()/2, pdf.internal.pageSize.getHeight()-10, {align: 'center'});
            }
        }).save();
    }
</script>

</body>
</html>
